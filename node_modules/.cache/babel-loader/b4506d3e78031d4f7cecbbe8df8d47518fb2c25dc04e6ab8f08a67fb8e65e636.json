{"ast":null,"code":"var _jsxFileName = \"/Users/yaothao/Documents/Yellow Page Research/public-facing/prototype/src/SearchBar.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useStateValue } from './StateProvider';\nimport Helpers from \"./Helpers\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SearchBar() {\n  _s();\n  const [{\n    tagList\n  }] = useStateValue();\n  const [inputValue, setInputValue] = useStateValue();\n\n  // const handleNewTag = (tags) => {\n  //   if (this.props.onNewTag) this.props.onNewTag(tags);\n  //   if (this.props.onTagChange) this.props.onTagChange(tags);\n  // }\n\n  const handleInputChange = _ref => {\n    let {\n      target: {\n        value: inputValue\n      }\n    } = _ref;\n    inputValue = inputValue === ',' ? '' : inputValue;\n    setInputValue({\n      inputValue\n    });\n  };\n  const handleKeyDown = e => {\n    let {\n      key,\n      target: {\n        value\n      }\n    } = e;\n    let {\n      tags\n    } = tagList;\n    switch (key) {\n      case 'Tab':\n        if (value) e.preventDefault();\n      case 'Enter':\n      case ',':\n        value = value.trim();\n        if (value && notDuplicate(tags, value)) {\n          addTag(value);\n        } else {\n          setInputValue({\n            inputValue: ''\n          });\n        }\n        break;\n      // case 'Backspace':\n      //   if (!value) {\n      //     handleTagDelete(tags.length - 1);\n      //   }\n      //   break;\n    }\n  };\n\n  const handleTagDelete = (index, e) => {\n    //   deleteTag(index, () => {\n    //     this.props.onTagChange(this.state.tags);\n    //   });\n    console.log(\"handleTagDelete\");\n  };\n\n  // const deleteTag = (index, callback) => {\n  //   let tags = this.state.tags.slice();\n\n  //   tags.splice(index, 1);\n  //   this.setState({ tags }, () => {\n  //     if (callback) callback();\n  //   });\n  // }\n\n  const notDuplicate = (tags, newTag) => {\n    //   return (!tags.includes(newTag) || this.props.allowDuplicates);\n    return true;\n  };\n  const addTag = tag => {\n    //   if (this.notDuplicate(this.state.tags, tag)) {\n    //     this.setState({tags: [...this.state.tags, tag], inputValue: ''}, () => {\n    //       handleNewTag(this.state.tags);\n    //     });\n    //   }\n  };\n\n  // const updateControlledTags = (tags) => {\n  //   if (tags && !Helpers.hasDuplicates(tags)) {\n  //     this.setState({ tags }, () => {\n  //       // this.props.onTagChange(tags);\n  //     });\n  //   }\n  // }\n\n  // const componentWillReceiveProps = (nextProps) => {\n  //   updateControlledTags(nextProps.tags);\n  // }\n\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"tagInputWrapper\",\n    children: [/*#__PURE__*/_jsxDEV(TagsList, {\n      tags: tagList,\n      onTagDelete: handleTagDelete\n      // hashtag={hashtag}\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"tagInput\",\n      className: \"tagInput\",\n      placeholder: \"enter a tag...\",\n      value: inputValue,\n      onChange: handleInputChange,\n      onKeyDown: handleKeyDown\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n}\n_s(SearchBar, \"aru30ABjsEPB4kEEIf4VPU4hEYs=\", false, function () {\n  return [useStateValue, useStateValue];\n});\n_c = SearchBar;\nconst TagsList = _ref2 => {\n  let {\n    tags,\n    onTagDelete,\n    hashtag\n  } = _ref2;\n  // let list = tags.map((tag, index) => (\n  //   <DeletableTag \n  //     name={tag} \n  //     onDelete={onTagDelete} \n  //     index={index} \n  //     // hashtag={hashtag} \n  //     />\n  // ));\n  return /*#__PURE__*/_jsxDEV(\"ul\", {\n    name: \"tagsList\",\n    className: \"tagsList\",\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Hello\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 7\n  }, this);\n};\n\n//   const DeletableTag = ({name, index, onDelete, hashtag}) => {\n//     return (\n//       <li>\n//         {/* {hashtag && (\n//           <span style={{color: 'rgb(87, 7, 7)', fontWeight: 'bold'}}># </span>\n//         )} */}\n//         {name} \n//         <a href=\"#\" onClick={e => onDelete(index, e)}>x</a>\n//       </li>\n//     );\n//   }\n_c2 = TagsList;\nexport default SearchBar;\nvar _c, _c2;\n$RefreshReg$(_c, \"SearchBar\");\n$RefreshReg$(_c2, \"TagsList\");","map":{"version":3,"names":["React","useStateValue","Helpers","SearchBar","tagList","inputValue","setInputValue","handleInputChange","target","value","handleKeyDown","e","key","tags","preventDefault","trim","notDuplicate","addTag","handleTagDelete","index","console","log","newTag","tag","TagsList","onTagDelete","hashtag"],"sources":["/Users/yaothao/Documents/Yellow Page Research/public-facing/prototype/src/SearchBar.js"],"sourcesContent":["import React from \"react\";\nimport { useStateValue } from './StateProvider';\nimport Helpers from \"./Helpers\";\n\n\nfunction SearchBar () {\n    const [{tagList}] = useStateValue();\n    const [inputValue, setInputValue] = useStateValue();\n    \n    // const handleNewTag = (tags) => {\n    //   if (this.props.onNewTag) this.props.onNewTag(tags);\n    //   if (this.props.onTagChange) this.props.onTagChange(tags);\n    // }\n  \n    const handleInputChange = ({target: { value: inputValue }}) => {\n      inputValue = inputValue === ',' ? '' : inputValue;\n      setInputValue({inputValue});\n    }\n    \n    const handleKeyDown = (e) => {\n      let { key, target: {value} } = e;\n      let { tags } = tagList;\n      switch (key) {\n        case 'Tab':\n          if (value) e.preventDefault();\n        case 'Enter':\n        case ',':\n          value = value.trim();\n          if (value && notDuplicate(tags, value)) {\n            addTag(value);\n          } else {\n            setInputValue({inputValue: ''})\n          }\n          break;\n        // case 'Backspace':\n        //   if (!value) {\n        //     handleTagDelete(tags.length - 1);\n        //   }\n        //   break;\n      }\n    }\n    \n    const handleTagDelete = (index, e) => {\n    //   deleteTag(index, () => {\n    //     this.props.onTagChange(this.state.tags);\n    //   });\n    console.log(\"handleTagDelete\");\n    }\n    \n    // const deleteTag = (index, callback) => {\n    //   let tags = this.state.tags.slice();\n      \n    //   tags.splice(index, 1);\n    //   this.setState({ tags }, () => {\n    //     if (callback) callback();\n    //   });\n    // }\n    \n    const notDuplicate = (tags, newTag) => {\n    //   return (!tags.includes(newTag) || this.props.allowDuplicates);\n    return true;\n    }\n    \n    const addTag = (tag) => {\n    //   if (this.notDuplicate(this.state.tags, tag)) {\n    //     this.setState({tags: [...this.state.tags, tag], inputValue: ''}, () => {\n    //       handleNewTag(this.state.tags);\n    //     });\n    //   }\n    }\n    \n    // const updateControlledTags = (tags) => {\n    //   if (tags && !Helpers.hasDuplicates(tags)) {\n    //     this.setState({ tags }, () => {\n    //       // this.props.onTagChange(tags);\n    //     });\n    //   }\n    // }\n    \n    // const componentWillReceiveProps = (nextProps) => {\n    //   updateControlledTags(nextProps.tags);\n    // }\n    \n    return (\n    <span className=\"tagInputWrapper\">\n        <TagsList \n        tags={tagList} \n        onTagDelete={handleTagDelete} \n        // hashtag={hashtag}\n        />\n        <input \n        name=\"tagInput\" \n        className=\"tagInput\" \n        placeholder=\"enter a tag...\" \n        value={inputValue} \n        onChange={handleInputChange}\n        onKeyDown={handleKeyDown}\n        />\n    </span>\n    );\n}\n\nconst TagsList = ({tags, onTagDelete, hashtag}) => {\n    // let list = tags.map((tag, index) => (\n    //   <DeletableTag \n    //     name={tag} \n    //     onDelete={onTagDelete} \n    //     index={index} \n    //     // hashtag={hashtag} \n    //     />\n    // ));\n    return (\n      <ul name=\"tagsList\" className=\"tagsList\">\n        {/* {list} */}\n        <p>Hello</p>\n      </ul>\n    )\n  }\n  \n//   const DeletableTag = ({name, index, onDelete, hashtag}) => {\n//     return (\n//       <li>\n//         {/* {hashtag && (\n//           <span style={{color: 'rgb(87, 7, 7)', fontWeight: 'bold'}}># </span>\n//         )} */}\n//         {name} \n//         <a href=\"#\" onClick={e => onDelete(index, e)}>x</a>\n//       </li>\n//     );\n//   }\n\nexport default SearchBar;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}